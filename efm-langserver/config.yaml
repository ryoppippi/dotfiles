version: 2
log-level: 1
root-markers:
- .git/
- package.json

tools:
  fish_indent: &fish_indent
    format-command: "fish_indent"
    format-stdin: true
  
  fish_diagnostics: &fish_diagnostics
    lint-command: "fish --no-execute ${INPUT}"
    lint-stdin: true
    lint-ignore-exit-code: true
    lint-formats:
      - '%.%#(line %l): %m'

  stylua: &stylua
    format-command: "stylua -s --color Never -"
    format-stdin: true
    root-markers:
      - stylua.toml 

  hadolint: &hadolint
    lint-command: 'hadolint'
    lint-stdin: true
    lint-formats:
      - '%f:%l %m'

languages:
  fish:
    - <<: *fish_diagnostics
    - <<: *fish_indent

  lua:
    - <<: *stylua

  dockerfile:
    - <<: *hadolint
